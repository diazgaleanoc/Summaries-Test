{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nlet UpdateBookComponent = class UpdateBookComponent {\n  constructor(service, route, router, fb) {\n    this.service = service;\n    this.route = route;\n    this.router = router;\n    this.fb = fb;\n    this.updateBookForm = {};\n    this.book = {};\n    this.service.getBookById(this.route.snapshot.params.id).subscribe(data => {\n      this.book = data;\n      this.updateBookForm = this.fb.group({\n        id: [data.id],\n        title: [data.title, Validators.required],\n        author: [data.author, Validators.required],\n        description: [data.description, Validators.compose([Validators.required, Validators.minLength(30)])],\n        rate: [data.rate],\n        dateStart: [data.dateStart],\n        dateRead: [data.dateRead]\n      });\n    });\n  }\n  // formatDate(date: Date) {\n  //   if (date) {\n  //     return new Date(date).toISOString().substring(0, 10);\n  //   }\n  // }\n  onSubmit() {\n    this.service.updateBook(this.updateBookForm.value).subscribe(data => {\n      this.router.navigate(['/books']);\n    });\n  }\n};\nUpdateBookComponent = __decorate([Component({\n  selector: 'app-update-book',\n  templateUrl: './update-book.component.html',\n  styleUrls: ['./update-book.component.css']\n})], UpdateBookComponent);\nexport { UpdateBookComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAQ,eAAe;AACzC,SAAiCC,UAAU,QAAQ,gBAAgB;AAU5D,IAAMC,mBAAmB,GAAzB,MAAMA,mBAAmB;EAG9BC,YACUC,OAAwB,EACxBC,KAAqB,EACrBC,MAAc,EACdC,EAAe;IAHf,YAAO,GAAPH,OAAO;IACP,UAAK,GAALC,KAAK;IACL,WAAM,GAANC,MAAM;IACN,OAAE,GAAFC,EAAE;IANZ,mBAAc,GAAc,EAAe;IACpC,SAAI,GAAS,EAAU;IAO5B,IAAI,CAACH,OAAO,CAACI,WAAW,CAAC,IAAI,CAACH,KAAK,CAACI,QAAQ,CAACC,MAAM,CAACC,EAAE,CAAC,CAACC,SAAS,CAACC,IAAI,IAAG;MACvE,IAAI,CAACC,IAAI,GAAGD,IAAI;MAEhB,IAAI,CAACE,cAAc,GAAG,IAAI,CAACR,EAAE,CAACS,KAAK,CAAC;QAClCL,EAAE,EAAE,CAACE,IAAI,CAACF,EAAE,CAAC;QACbM,KAAK,EAAE,CAACJ,IAAI,CAACI,KAAK,EAAEhB,UAAU,CAACiB,QAAQ,CAAC;QACxCC,MAAM,EAAE,CAACN,IAAI,CAACM,MAAM,EAAElB,UAAU,CAACiB,QAAQ,CAAC;QAC1CE,WAAW,EAAE,CACXP,IAAI,CAACO,WAAW,EAChBnB,UAAU,CAACoB,OAAO,CAAC,CAACpB,UAAU,CAACiB,QAAQ,EAAEjB,UAAU,CAACqB,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC,CACpE;QACDC,IAAI,EAAE,CAACV,IAAI,CAACU,IAAI,CAAC;QACjBC,SAAS,EAAE,CAACX,IAAI,CAACW,SAAS,CAAC;QAC3BC,QAAQ,EAAE,CAACZ,IAAI,CAACY,QAAQ;OACzB,CAAC;IACJ,CAAC,CAAC;EAEJ;EAEA;EACA;EACA;EACA;EACA;EAEAC,QAAQ;IACN,IAAI,CAACtB,OAAO,CAACuB,UAAU,CAAC,IAAI,CAACZ,cAAc,CAACa,KAAK,CAAC,CAAChB,SAAS,CAACC,IAAI,IAAG;MAClE,IAAI,CAACP,MAAM,CAACuB,QAAQ,CAAC,CAAC,QAAQ,CAAC,CAAC;IAClC,CAAC,CAAC;EACJ;CACD;AAvCY3B,mBAAmB,eAL/BF,SAAS,CAAC;EACT8B,QAAQ,EAAE,iBAAiB;EAC3BC,WAAW,EAAE,8BAA8B;EAC3CC,SAAS,EAAE,CAAC,6BAA6B;CAC1C,CAAC,GACW9B,mBAAmB,CAuC/B;SAvCYA,mBAAmB","names":["Component","Validators","UpdateBookComponent","constructor","service","route","router","fb","getBookById","snapshot","params","id","subscribe","data","book","updateBookForm","group","title","required","author","description","compose","minLength","rate","dateStart","dateRead","onSubmit","updateBook","value","navigate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["E:\\LinkedIn Learning\\ASPdotNET\\Angular\\Summaries-master\\Summaries\\ClientApp\\src\\app\\components\\update-book\\update-book.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { BookDataService } from 'src/app/Services/book-data.service';\nimport { Book } from 'src/app/interfaces/book';\n\n@Component({\n  selector: 'app-update-book',\n  templateUrl: './update-book.component.html',\n  styleUrls: ['./update-book.component.css'],\n})\nexport class UpdateBookComponent {\n  updateBookForm: FormGroup = {} as FormGroup;\n  public book: Book = {} as Book;\n  constructor(\n    private service: BookDataService,\n    private route: ActivatedRoute,\n    private router: Router,\n    private fb: FormBuilder\n  ) {\n    this.service.getBookById(this.route.snapshot.params.id).subscribe(data => {\n      this.book = data;\n\n      this.updateBookForm = this.fb.group({\n        id: [data.id],\n        title: [data.title, Validators.required],\n        author: [data.author, Validators.required],\n        description: [\n          data.description,\n          Validators.compose([Validators.required, Validators.minLength(30)]),\n        ],\n        rate: [data.rate],\n        dateStart: [data.dateStart],\n        dateRead: [data.dateRead],\n      })\n    })\n\n  }\n\n  // formatDate(date: Date) {\n  //   if (date) {\n  //     return new Date(date).toISOString().substring(0, 10);\n  //   }\n  // }\n\n  onSubmit() {\n    this.service.updateBook(this.updateBookForm.value).subscribe(data => {\n      this.router.navigate(['/books']);\n    });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}